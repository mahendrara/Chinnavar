<?xml version='1.0' encoding='UTF-8'?>

<!-- =========== FULL CONFIGURATION FILE ================================== -->

<!--<faces-config version="2.3"-->
<!--              xmlns="http://java.sun.com/xml/ns/javaee" -->
<!--              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!--              xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_3.xsd">-->
<faces-config version="2.3"
              xmlns="http://xmlns.jcp.org/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd">
    <factory>
        <exception-handler-factory>
            exception.ViewExpiredExceptionExceptionHandlerFactory
        </exception-handler-factory>
    </factory>
    <navigation-rule>
        <from-view-id>/Login.xhtml</from-view-id>
        <navigation-case>
            <from-action>#{loginBean.loginAction}</from-action>
            <from-outcome>login-ok</from-outcome>
            <to-view-id>/generic/startpage.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{loginBean.loginAction}</from-action>
            <from-outcome>login-failed</from-outcome>
            <to-view-id>/Login.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{loginBean.logoutAction}</from-action>
            <from-outcome>logout-ok</from-outcome>
            <to-view-id>/Login.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>go-to-mainpage</from-action>
            <from-outcome>go-to-mainpage</from-outcome>
            <to-view-id>/generic/startpage.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/*</from-view-id>
        <navigation-case>
            <from-action>/index</from-action>
            <from-outcome>/index</from-outcome>
            <to-view-id>/generic/startpage.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <!--
       <navigation-case>
           <from-action>account_info</from-action>
           <from-outcome>account_info</from-outcome>
           <to-view-id>/Login.xhtml</to-view-id>
           <redirect/>
       </navigation-case>
        -->
        <navigation-case>
            <from-action>#{UserController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/user/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledDayController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/scheduledDay/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{timeBlockController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/timeBlock/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{TTObjectController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/ttObject/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{TTObjectController.prepareView(item)}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/ttObject/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{tripTemplateController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/tripTemplate/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{tripTemplateController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/tripTemplate/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{movementTripTemplateController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/movementTripTemplate/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{movementTripTemplateController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/movementTripTemplate/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{movementTripController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/movementTrip/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{movementTripController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/movementTrip/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{plannedTripController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/plannedTrip/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduleController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/schedule/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{timeBlockController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/timeBlock/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduleTemplateController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/scheduleTemplate/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledServiceController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/scheduledService/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledTripController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/scheduledTrip/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledServiceController.prepareView(item)}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/scheduledService/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{plannedServiceController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/plannedService/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{plannedServiceController.prepareView(item)}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/plannedService/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{trainConsistController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/trainConsist/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{trainConsistController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/trainConsist/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{driverController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/driver/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{shortTurnController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/shortTurn/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{TTObjectAltController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/ttobjectAlt/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{TTLocationGroupsController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/locationGroups/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{TrainTypeController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/trainType/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{maintenanceController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/maintenance/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{degradedPlanController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/degradedPlan/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{degradedPlanController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/degradedPlan/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>report_view</from-action>
            <from-outcome>report_view</from-outcome>
            <to-view-id>/report/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>railml_view</from-action>
            <from-outcome>railml_view</from-outcome>
            <to-view-id>/railml/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>connections_info</from-action>
            <from-outcome>connections_info</from-outcome>
            <to-view-id>/connection/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{loginBean.logoutAction}</from-action>
            <from-outcome>logout-ok</from-outcome>
            <to-view-id>/Login.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledDutyController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/scheduledDuty/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{scheduledDutyController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/scheduledDuty/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{plannedDutyController.prepareList}</from-action>
            <from-outcome>List</from-outcome>
            <to-view-id>/plannedDuty/List.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-action>#{plannedDutyController.prepareView}</from-action>
            <from-outcome>View</from-outcome>
            <to-view-id>/plannedDuty/View.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
<!--        <navigation-rule>        -->
            <navigation-case>
                <from-action>dashboard_info</from-action>
                <from-outcome>dashboard_info</from-outcome>
                <to-view-id>/dashboard/Dashboard.xhtml</to-view-id>
                <redirect/>
            </navigation-case>
            <navigation-case>
                <from-action>dashboard_info2</from-action>
                <from-outcome>dashboard_info2</from-outcome>
                <to-view-id>/dashboard/Dashboard2.xhtml</to-view-id>
                <redirect/>
            </navigation-case>
            <!--<navigation-case>
                <from-action>dashboard_settings</from-action>
                <from-outcome>dashboard_settings</from-outcome>
                <to-view-id>/dashboard/Setting.xhtml</to-view-id>
                <redirect/>
            </navigation-case>-->
            <navigation-case>
                <from-action>traffic_notification</from-action>
                <from-outcome>traffic_notification</from-outcome>
                <to-view-id>/trafficNotification/TrafficNotification.xhtml</to-view-id>
                <redirect/>
            </navigation-case>
<!--        </navigation-rule>-->
    </navigation-rule>
    <application>
        <locale-config>
            <default-locale>en-GB</default-locale>
            <supported-locale>zh-CN</supported-locale>
        </locale-config>
        <resource-bundle>
            <base-name>/Bundle</base-name>
            <var>bundle</var>
        </resource-bundle>
    </application>
</faces-config>
